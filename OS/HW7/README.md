Программа клиента будет генерировать случайные числа в диапазоне от 1 до 100 и записывать их в разделяемую память. Сервер будет считывать эти числа и выводить их на экран. Обмен данными между клиентом и сервером будет продолжаться до тех пор, пока клиент не будет завершен нажатием Ctrl+C.

Корректное завершение работы включает следующие шаги:

Клиенту отправляется сигнал SIGINT при нажатии Ctrl+C.
В клиенте обрабатывается сигнал SIGINT, и устанавливается флаг is_running в 0.
В цикле генерации чисел клиент проверяет флаг is_running и завершает работу, если флаг установлен в 0.
После завершения клиента, он отключается от разделяемой памяти, закрывает файловый дескриптор разделяемой памяти и удаляет сегмент разделяемой памяти.
Сервер, который постоянно читает значения из разделяемой памяти, продолжает свою работу до тех пор, пока не будет явно прерван (например, нажатием Ctrl+C).
После завершения сервера, он отключается от разделяемой памяти и закрывает файловый дескриптор разделяемой памяти.
Таким образом, корректное завершение работы обеспечивается обработкой сигнала SIGINT в клиенте и сервере, а также правильным отключением и удалением разделяемой памяти.