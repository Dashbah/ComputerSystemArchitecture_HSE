

Баханкова Дарья Сергеевна
БПИ215

Вариант 10

Отчет о работе программы
==========================

Программа реализована на 8-9 баллов

Программа моделирует рабочий день магазина с использованием TCP протокола для связи между клиентом (покупателем) и сервером (магазином). В магазине работают три отдела, каждый обслуживается одним продавцом. Покупатель может делать покупки в одном или нескольких отделах, обходя их в произвольном порядке. Если продавец в выбранном отделе занят, покупатель становится в очередь и ожидает, пока продавец не освободится.

Описание алгоритма
-------------------

### Сервер (магазин):
1. Создание серверного сокета и привязка его к указанному порту.
2. Ожидание подключения клиентов.
3. При подключении нового клиента, создание нового потока для обработки клиента.
4. В потоке обработки клиента:
   - Получение запроса от клиента.
   - Выбор случайного отдела для покупки и формирование ответа для клиента, указывающего на выбранный отдел.
   - Отправка ответа клиенту.
   - Симуляция времени покупки.
5. После завершения покупки, удаление клиента из списка и закрытие соединения.

### Клиент (покупатель):
1. Создание клиентского сокета.
2. Установка соединения с сервером по указанному IP-адресу и порту.
3. Отправка запроса на покупку серверу.
4. Получение и вывод ответа от сервера.
5. Закрытие соединения с сервером.

Используемые средства
---------------------

- Язык программирования: C.
- Сетевые сокеты: Библиотека `sys/socket.h` для создания, привязки, прослушивания и установления соединения через сокеты.
- Потоки: Библиотека `pthread.h` для создания многопоточной среды выполнения, где каждый клиент обрабатывается в отдельном потоке.
- Синхронизация: `pthread_mutex_t` для обеспечения синхронизации доступа к общим данным, таким как список клиентов.
- Генерация случайных чисел: Библиотека `stdlib.h` и функция `rand()` для выбора случайного отдела и времени покупки.
